<!-- [MYS_GO_05_01_00] 작성자: 누리어 시스템 김홍범 -->
<!DOCTYPE html>
<html lang="ko">
<head>
	@@include('@@webRoot/html/_include/app-head.html',{
		"title": "챌린지 자세히보기 | 남들만큼 | 목표"
	})
</head>

<body>
	@@include('@@webRoot/html/_include/app-a11y.html')
	<div class="app">
		<!-- app-header //-->
        @@include('@@webRoot/html/_include/app-integrated-header.html',{'pageTit':'챌린지 자세히보기','type':''})
		<!-- // app-header -->

		<!-- app-container //-->
		<div class="app-container">
			<!-- app-content // -->
			<main class="app-content goals-challenge">
                <section class="kb-sec goals-noti">
                    <h2>Flex 자금마련 챌린지</h2>
                    <h3>매월 조금씩 저축해보세요.</h3>
                    <p data-style="list" class="mt20">평균 목표금액 <span class="num" data-unit-after="원">100,000</span></p>
                    <p data-style="list">목표기간 <span class="num" data-unit-after="개월">6</span></p>
                </section>

                <section class="kb-sec goals-list mt20"> 
                    <div class="flex-box">
                        <h2 class="h4 light">김국민 님은<br><strong>월 <span class="num">500,000</span>원</strong> 저축중이에요.</h2>
                    </div>
                    <div class="challenge-box content-swiper-wrap">
                        <div class="swiper-container content-swiper t01 js-swiper" data-swiper-options="goalGraphSwiperOptions">
                            <script>
                                var goalGraphSwiperOptions = {
                                    "pagination": {
                                        "el": ".swiper-pagination"
                                    },
                                    "spaceBetween": 16,
                                    "autoHeight": "true"                                        
                                };
                            </script>
                            <div class="swiper-wrapper">
                                <div class="swiper-slide content-box shadow">
                                    <!-- [Chart Area] // -->
                                    <div class="chart-area">
                                        <h3 class="desc">김국민 님은<br><strong>월 <span class="num" data-unit-after="원">500,000</span> 저축중</strong>이에요.</h3>
                                        <div class="chart-area">
                                            <div class="chart-flex">
                                                <div class="chart-area type-ratio" id="bubbleChart01"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- // [Chart Area] -->
                                </div>
                                <div class="swiper-slide content-box shadow">
                                    <div class="challenge-info non-tit">
                                        <h3 class="tit flex-box goals-desc type2">비교그룹과 월별 커피업종 소비금액을 비교했어요.</h3>
                                        <div class="chart-area dbl-bar">
                                            <div class="chart-area type-ratio mt0" id="splineChart"></div>                                                                  
                                            <span class="txt-orange">나</span>
                                            <span class="txt-pink type2">비교그룹</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="swiper-pagination"></div>
                        </div>
                    </div> 
                    <div class="desc_compare">비교그룹보다 저축이 <span class="num" data-unit-after="원">200,000</span> 적어요.<br>부족한 <span class="num" data-unit-after="원">200,000</span> 더 저축해보세요.</div>
                    <div class="align-r mt24">
                        <button class="btn-text icon-arrow"><span>챌린지만 미리 만들기<i></i></span></button>
                    </div>
                </section>

                <div class="sticky-bottom">
                    <div class="btn-area">
                        <button type="button" class="btn-solid" data-action="" onclick=""><span>적금 계좌 연결</span></button>
                    </div>
                </div>
			</main>
			<!-- // app-content -->

		</div>
		<!-- // app-container -->

		<!-- Layer (modal, bottom sheet) // -->
		<div class="layered">
            @@include('@@webRoot/html/asset/layered/mys_as_07_00_00_p1.html')
		</div>
		<!-- // Layer (modal, bottom sheet) -->
	</div>

	<!-- Script -->
	@@include('@@webRoot/html/_include/common-js.html')
	<!-- Add Library (this page only)-->
	<script src="@@webRoot/static/js/ui.js"></script>
    
    <script src="@@webRoot/static/common/lib/highcharts/highcharts.js"></script> 
    <script src="@@webRoot/static/common/lib/highcharts/highcharts-more.js"></script>
           
    <script>
        // highchart 공통 options        
        Highcharts.setOptions({
            title: { text: null },
            subTitle: { text: null },
            legend: { enabled: false },
            credits: { enabled: false },
            label : { fontFamily: 'KBFGText'},
            credits: { enabled: false },
            exporting: { enabled: false }
        });
        
        var bubbleChart = new Highcharts.Chart({
            chart: {
                renderTo: 'bubbleChart01', // chart 삽입 target ID                
                plotBackgroundColor: null,
                plotBorderWidth: 0,
                plotShadow: false,
                type: 'packedbubble',
                margin:0,
                marginTop:0,
                marginBottom:0
            },            
            tooltip: { enabled: false },
            plotOptions: {
                packedbubble: {
                    minSize: '30%',
                    maxSize: '100%',
                    zMin: 0,
                    layoutAlgorithm: {
                        splitSeries: false,
                        gravitationalConstant: 0.05
                    },
                    dataLabels: {
                        enabled: true,
                        formatter: function () { 
                            return this.point.name + "<br><span style='font-size:3.5vw;font-family:Roboto;'><b style='font-size:4vw;'>" + gfn_comma3Digit(this.point.value) + "</b>원"
                        },    
                        rotation:1,             
                        style: {
                            color: '#fff',
                            textOutline: 'none',
                            fontWeight: 'normal',
                            textAlign:'center',    
                            fontSize: '3.5vw',                        
                            fontFamily: "KBFGText"         
                        }
                    }
                }  
            },
            series: [{
                name: null,
                data: [{
                    name: '<tspan dy="-5">비교그룹</tspan>',
                    value: 350000,
                    color: {
                        radialGradient: { cx: 0.1, cy: 0.1, r: 0.9 },
                        stops: [ [0, '#ff8a71'], [1, '#ff8a71'] ]
                    }
                },{
                    name: '<tspan dy="-5">나</tspan>',
                    color: '#f8956d',
                    value: 150000,
                    color: {
                        radialGradient: { cx: 0.1, cy: 0.1, r: 0.9 },
                        stops: [ [0, '#ffba53'], [1, '#ffba53'] ]
                    }
                }]
            
            }]
        });
    </script>    
    
    

    <style>
        .highcharts-tooltip-box:first-child .highcharts-label-box {
            fill: #ff8a71;
        }
        .highcharts-tooltip-box:last-child .highcharts-label-box {
            fill: #ffba53;
        }
    </style>
    <script>
        // highchart 공통 options
        Highcharts.setOptions({
            title: { text: null },
            subTitle: { text: null },
            legend: { enabled: false },
            credits: { enabled: false },
            label : { fontFamily: 'KBFGText'},
            credits: { enabled: false },
            exporting: { enabled: false },
            // lang: {
            //     shortMonths: ['1월', '2월', '3월', '4월', '5월', '6월', '7월', '8월', '9월', '10월', '11월', '12월']
            // }
        });
        // spline chart 선언
        var splineChart = new Highcharts.Chart({
            chart: {
                renderTo: 'splineChart', // chart 삽입 target ID
                type: "line",
                marginLeft: 10,
                marginRight: 10,
                paddingTop:0,
            },
            xAxis: {
                // type: "category",
                // categories: ["3월", "4월", "5월"],
                labels: {
                    style: {
                        color: "#26282c",
                        fontSize: '3.733vw',
                        fontFamily: 'KBFGText',
                    },
                    formatter: function () {
                        return this.value + '월';
                    }                   
                },
                crosshair: {
                    width: 1,
                    color: '#dde2e8',
                    dashStyle: 'dot'
                },
                formatter: function () {
                    return point.x + '월';
                },
                tickColor:'transparent'
            },
            yAxis: {
                top:10,
                endOnTick: true,
                enabled: false,  // 사용 안함
                labels: { enabled: false },  // 축 lebel 사용 안함
                title: { enabled: false }, // 축 title 사용 안함
                tickWidth: 0,  // 그리드 라인 너비
                gridLineColor: 'transparsnt',  // 그리드 라인 컬러
            },
            tooltip: {
                formatter: function () {
                    // points
                    return [''].concat(
                        this.points ?
                            this.points.map(function (point) {
                                return '&nbsp;&nbsp;&nbsp;' + gfn_comma3Digit(point.y) + ' 원' + '&nbsp;&nbsp;&nbsp;';
                            }) : []
                    );
                },
                split: true,
                padding: 4,
                shadow: false,
                borderRadius: 5,
                verticalAlign: 'top',
                borderColor: 'transparent',
                style: {
                    fontSize: '4vw',
                    fontFamily: "KBFGText",
                    color:'#fff'
                },
                crosshairs: true,
                shared: true
            },
            plotOptions: {
                series: {
                    lineWidth: 2,
                    marker: {
                        enabled: false,
                        lineWidth: 1
                    }
                }
            },
            series: [{
                // linkedTo: "main",
                color: '#ff8a71',
                data: [
                    [3, 15000],
                    [4, 20000],
                    [5, 30000],
                    [6, 35000]
                ]
            },{
                // id: 'main',
                color: '#ffba53',
                data: [
                    [3, 20600],
                    [4, 35600],
                    [5, 45600],
                    [6, 65600]
                ]
            }]
        });
    </script>
</body>

</html>